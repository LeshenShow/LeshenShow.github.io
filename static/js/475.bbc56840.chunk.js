"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[475],{4475:(s,e,t)=>{t.r(e),t.d(e,{default:()=>z});var r=t(2791);const o="ProfileInfo_descriptionBlock__POzGZ",i="ProfileInfo_avatar__9DUCy",n="ProfileInfo_description__Drajh",l="ProfileInfo_status__rEOSz";var a=t(3154),d=t(184);const u=s=>{let[e,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{i(s.status)}),[s.status]);const[n,a]=(0,r.useState)(0);return(0,d.jsxs)("div",{children:[!e&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:l,onDoubleClick:()=>{t(!0)},children:s.status||"---------"})}),e&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{className:l,onChange:s=>{i(s.currentTarget.value)},onBlur:()=>{t(!1),s.updateStatus(o)},value:o,autoFocus:!0})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:["You clicked ",n," times"]}),(0,d.jsx)("button",{onClick:()=>a(n+1),children:"Click me"})]})]})},c=s=>{if(console.log("ProfileInfo",s),!s.profile)return(0,d.jsx)(a.Z,{});let e=null===s.profile.photos.small?"https://www.svgrepo.com/show/416527/animal-bird-cartoon.svg":s.profile.photos.small;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("div",{className:n,children:s.profile.fullName}),(0,d.jsx)("img",{className:i,src:e,alt:"error"})]}),(0,d.jsx)(u,{status:s.status,updateStatus:s.updateStatus})]})},p="MyPosts_postsBlock__b-rK6",h={item:"Post_item__PWNiI",photo:"Post_photo__7BlHi",buttonLike:"Post_buttonLike__isLLx",likes:"Post_likes__y0vpj"},m=s=>(0,d.jsxs)("div",{className:h.item,children:[(0,d.jsx)("div",{className:h.photo,children:(0,d.jsx)("img",{alt:"",src:"https://www.svgrepo.com/show/416527/animal-bird-cartoon.svg"})}),(0,d.jsxs)("div",{className:h.message,children:[(0,d.jsx)("div",{children:s.message}),(0,d.jsx)("div",{className:h.likes,children:(0,d.jsxs)("button",{className:h.buttonLike,children:[(0,d.jsx)("img",{alt:"",src:"https://www.svgrepo.com/show/474892/like-placeholder.svg"}),(0,d.jsx)("span",{children:s.likes})]})})]})]});var x=t(4420),j=t(6508);var f=t(6139),g=t(704),v=t(5304),_=t(2272);const P=(0,g.Z)({form:"newPost"})((s=>(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(f.Z,{component:_.gx,placeholder:"Write a new post...",name:"newPostBody",validate:[v.z.required,v.z.maxLength15,v.z.minLength2]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]}))),w=s=>(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("h3",{children:"New post"})}),(0,d.jsx)(P,{onSubmit:e=>{s.addPost(e.newPostBody)}})]});const k=(0,x.$j)((s=>({profilePage:s.profilePage,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,j.Wl)(e))}})))(w),b=r.memo((s=>{console.log("render");let e=s.postData.map((s=>(0,d.jsx)(m,{message:s.message,likes:s.likes},s.id)));return(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)(k,{}),e]})}));const N=(0,x.$j)((s=>({postData:s.profilePage.postData})),(function(){return{}}))(b),S=s=>(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)(c,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,d.jsx)(N,{})]});var C=t(7689),I=t(5927),D=t(1154);class L extends r.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),console.log("componentDidMount Props",this.props),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,d.jsx)(S,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}let y={getUserProfile:j.et,getStatus:j.lR,updateStatus:j.Nf};const z=(0,D.qC)((function(s){return function(e){let t=(0,C.TH)(),r=(0,C.s0)(),o=(0,C.UO)();return(0,d.jsx)(s,{...e,router:{location:t,navigate:r,params:o}})}}),(0,x.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorizedUserId:s.auth.userId})),y),I.D)(L)},2272:(s,e,t)=>{t.d(e,{II:()=>d,gx:()=>a,vh:()=>u});t(2791);const r="FormsControls_formControl__DjFsL",o="FormsControls_error__GiRUL";var i=t(6139),n=(t(5304),t(184));const l=s=>{let{input:e,meta:t,child:i,element:l,...a}=s;const d=t.touched&&t.error;return(0,n.jsxs)("div",{className:r+" "+(d?o:""),children:[(0,n.jsx)("div",{children:a.children}),d&&(0,n.jsx)("span",{children:t.error})]})},a=s=>{const{input:e,meta:t,child:r,element:o,...i}=s;return(0,n.jsx)(l,{...s,children:(0,n.jsx)("textarea",{...e,...i})})},d=s=>{const{input:e,meta:t,child:r,element:o,...i}=s;return(0,n.jsx)(l,{...s,children:(0,n.jsx)("input",{...e,...i})})},u=function(s,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Z,{component:s,name:e,...t}),t.text]})}},5927:(s,e,t)=>{t.d(e,{D:()=>a});var r=t(2791),o=t(7689),i=t(4420),n=t(184);let l=s=>({isAuth:s.auth.isAuth});const a=s=>{class e extends r.Component{render(){return this.props.isAuth?(0,n.jsx)(s,{...this.props}):(0,n.jsx)(o.Fg,{to:"/login"})}}return(0,i.$j)(l)(e)}},5304:(s,e,t)=>{t.d(e,{z:()=>r});const r={required(s){if(!s)return"error message"},maxLength15(s){if(s&&s.length>15)return"Max length is 15 symbols"},minLength2(s){if(s&&s.length<2)return"Min length is 2 symbols"}}}}]);
//# sourceMappingURL=475.bbc56840.chunk.js.map