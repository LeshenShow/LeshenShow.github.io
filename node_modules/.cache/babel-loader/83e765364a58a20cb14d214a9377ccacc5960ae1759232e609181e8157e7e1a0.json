{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Leshen\\\\Desktop\\\\JS\\\\after_courses\\\\react\\\\ZooPlanet\\\\LeshenShow.github.io\\\\src\\\\components\\\\Profile\\\\ProfileContainer.jsx\";\nimport React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport { getStatus, getUserProfile, updateStatus } from \"../../redux/profileReducer\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.router.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      //  kпохая практика лучше делать это в рендере  а еще лучше чтобы стейт делал редирект\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    console.log(\"componentDidMount Props\", this.props);\n    this.props.getUserProfile(userId); // console.log(\"componentDidMount Response\", response);// console.log(\"data\", data);\n    this.props.getStatus(userId);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Profile, {\n      ...this.props,\n      profile: this.props.profile,\n      status: this.props.status,\n      updateStatus: this.props.updateStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n}\nfunction withRouter(Component) {\n  var _s = $RefreshSig$();\n  function ComponentWithRouterProp(props) {\n    _s();\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n    return /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      router: {\n        location,\n        navigate,\n        params\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }, this);\n  }\n  _s(ComponentWithRouterProp, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n  return ComponentWithRouterProp;\n}\nlet mapStateToProps = state => ({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  isAuth: state.auth.isAuth,\n  authorizedUserId: state.auth.userId\n});\nlet mapDispatchToProps = {\n  getUserProfile,\n  getStatus,\n  updateStatus\n};\n\n// let withUrlDataContainerComponent = withRouter(ProfileContainer);\n// export default connect(\n//   mapStateToProps,\n//   mapDispatchToProps\n// )(withUrlDataContainerComponent);\n\n// сломалось? поставил на паузу проверку аутентификации\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\n// let withUrlDataContainerComponent = withRouter(AuthRedirectComponent);\nexport default compose(withRouter, connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(ProfileContainer);\n\n// долгий вараиант\n// compose(\n//   connect(mapStateToProps, mapDispatchToProps),\n//   withUrlDataContainerComponent,\n//   withAuthRedirect\n// )(ProfileContainer);\n// export default connect(\n//   mapStateToProps,\n//   mapDispatchToProps\n// )(withUrlDataContainerComponent);","map":{"version":3,"names":["React","Profile","connect","getStatus","getUserProfile","updateStatus","useLocation","useNavigate","useParams","withAuthRedirect","compose","jsxDEV","_jsxDEV","ProfileContainer","Component","componentDidMount","userId","props","router","params","authorizedUserId","history","push","console","log","render","profile","status","fileName","_jsxFileName","lineNumber","columnNumber","withRouter","_s","$RefreshSig$","ComponentWithRouterProp","location","navigate","mapStateToProps","state","profilePage","isAuth","auth","mapDispatchToProps"],"sources":["C:/Users/Leshen/Desktop/JS/after_courses/react/ZooPlanet/LeshenShow.github.io/src/components/Profile/ProfileContainer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getStatus,\r\n  getUserProfile,\r\n  updateStatus,\r\n} from \"../../redux/profileReducer\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.router.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      //  kпохая практика лучше делать это в рендере  а еще лучше чтобы стейт делал редирект\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    console.log(\"componentDidMount Props\", this.props);\r\n    this.props.getUserProfile(userId); // console.log(\"componentDidMount Response\", response);// console.log(\"data\", data);\r\n    this.props.getStatus(userId);\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nfunction withRouter(Component) {\r\n  function ComponentWithRouterProp(props) {\r\n    let location = useLocation();\r\n    let navigate = useNavigate();\r\n    let params = useParams();\r\n    return <Component {...props} router={{ location, navigate, params }} />;\r\n  }\r\n  return ComponentWithRouterProp;\r\n}\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  isAuth: state.auth.isAuth,\r\n  authorizedUserId: state.auth.userId,\r\n});\r\nlet mapDispatchToProps = { getUserProfile, getStatus, updateStatus };\r\n\r\n// let withUrlDataContainerComponent = withRouter(ProfileContainer);\r\n// export default connect(\r\n//   mapStateToProps,\r\n//   mapDispatchToProps\r\n// )(withUrlDataContainerComponent);\r\n\r\n// сломалось? поставил на паузу проверку аутентификации\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n// let withUrlDataContainerComponent = withRouter(AuthRedirectComponent);\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n\r\n// долгий вараиант\r\n// compose(\r\n//   connect(mapStateToProps, mapDispatchToProps),\r\n//   withUrlDataContainerComponent,\r\n//   withAuthRedirect\r\n// )(ProfileContainer);\r\n// export default connect(\r\n//   mapStateToProps,\r\n//   mapDispatchToProps\r\n// )(withUrlDataContainerComponent);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}